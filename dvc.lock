schema: '2.0'
stages:
  preprocess:
    cmd: python src/data/make_dataset.py data/raw/train.csv data/interim/train.pkl
      data/interim/target.pkl data/interim/train_val.pkl data/interim/target_val.pkl
    deps:
    - path: data/raw/train.csv
      md5: 80ccab65fb115cbad143dbbd2bcd5577
      size: 460676
    outs:
    - path: data/interim
      md5: 1fbb2d1a4e36657a04ec3e7e927fee74.dir
      size: 502113
      nfiles: 4
  features:
    cmd: python src/features/build_features.py data/interim/train.pkl data/interim/train_val.pkl
      data/processed/train.pkl data/processed/train_val.pkl
    deps:
    - path: data/interim/target.pkl
      md5: 1fdef5c04a9fb5f99884122c0f1f5be8
      size: 8618
    - path: data/interim/train.pkl
      md5: 74a104232a6b449cacdc809e13ca3070
      size: 391256
    - path: data/interim/train_val.pkl
      md5: e5031d0df1ddb703427a3f96d06da610
      size: 99536
    - path: src/features/build_features.py
      md5: 85571a081585363deb75bf847930c923
      size: 1790
    outs:
    - path: data/processed
      md5: f85f8a9fa7acee4443c5fe1569211d10.dir
      size: 501063
      nfiles: 2
  train_models:
    cmd: python src/models/train_model.py data/processed/train.pkl data/interim/target.pkl
      models
    deps:
    - path: data/interim/target.pkl
      md5: 1fdef5c04a9fb5f99884122c0f1f5be8
      size: 8618
    - path: data/processed/train.pkl
      md5: d9f7ad056dc517828042750e9b405b8e
      size: 399349
    - path: src/models/train_model.py
      md5: 21771934e274eb10ddda0ff2eb1b7480
      size: 3258
    outs:
    - path: models
      md5: a661a4bf124b5a8659780695662c91fb.dir
      size: 2181698
      nfiles: 2
  models_evaluation:
    cmd: python src/models/evaluate.py models/catboost.pkl models/ridge.pkl data/processed/train.pkl
      data/interim/target.pkl reports/evaluate/evaluation.json
    deps:
    - path: data/interim/target.pkl
      md5: 1fdef5c04a9fb5f99884122c0f1f5be8
      size: 8618
    - path: data/interim/target_val.pkl
      md5: 4b10ece52c371baeb861286c91a57d39
      size: 2703
    - path: data/processed/train.pkl
      md5: d9f7ad056dc517828042750e9b405b8e
      size: 399349
    - path: data/processed/train_val.pkl
      md5: 935428dda382751a15756b5b41d2ceeb
      size: 101714
    - path: models/catboost.pkl
      md5: 80e0157609a96b7d0e73c248c9f9b132
      size: 2179584
    - path: models/ridge.pkl
      md5: 56243fad928d4089c754652438dd0d93
      size: 2114
    - path: src/models/evaluate.py
      md5: 6abdfc2a209a75182dcad75948ca3cb7
      size: 2755
    outs:
    - path: reports/evaluate/evaluation.json
      md5: 5c7a4a6fc0b0c91794a947276dfe6211
      size: 183
  inference:
    cmd: python src/models/predict_model.py data/raw/test.csv models/catboost.pkl
      models/ridge.pkl reports/inference/
    deps:
    - path: data/raw/test.csv
      md5: dcec4b79bf9c7317bd9e17789bf888f0
      size: 451405
    - path: models/catboost.pkl
      md5: 80e0157609a96b7d0e73c248c9f9b132
      size: 2179584
    - path: models/ridge.pkl
      md5: 56243fad928d4089c754652438dd0d93
      size: 2114
    outs:
    - path: reports/inference
      md5: 4eb550cced9b7668043878e87e579ead.dir
      size: 55228
      nfiles: 2
